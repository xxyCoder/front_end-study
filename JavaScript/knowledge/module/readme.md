# commonjs
- 导出一个对象，只有运行时才能拿到，且输出是值的拷贝，如果是对象那么修改里面属性会影响其他模块

# es module
- 通过export指定输出的代码，通过import引入
  - export导出的要与内部有关联，可以拿到实时的值，不能出现在块级作用域中，否则报错
  - import具有提升效果，提升到顶部，由于静态执行，故不能使用表达式和变量，且拿到的值不能修改
    - 只给外界暴露getter没有给setter函数
- 在编译时完成模块的加载
- 自动采用严格模式

## 复合写法
- export {} from '...' 只是转发这个接口的内容，当前模块并不引入

## 动态加载
- import() 返回一个promise，和import一样修改无效，且模块内部修改外部可见，但是可以在块级作用域

# 循环加载问题
- commonjs运行到模块会创建一个module.export来记录模块内导出的时候，如果有循环依赖则从缓存中拿到这个模块的module.export
- esmodule对于当前循环依赖会认定已经存在不会重复加载，知道运行时候才发现没有定义导致报错，但是如果导出的接口是函数（函数有作用域提升）故不会报错，即使export写在import前方也没有用，import有提升