# 迭代器
- 迭代器是按需创建一次性对象，每个迭代器都会关联一个可迭代对象
- 以Symbol.iterator作为键，以迭代器工厂函数作为值，该函数返回一个新迭代器
- 迭代器调用next方法遍历数据，每次调用next方法都返回一个IteratorResult对象（{ value: any,done: boolean }）
  - done为true表示迭代结束了
- 如果迭代期间，数据发生改变，那么迭代器也会反映相应的变化

## 提前终止迭代器
- for-of通过break、continue、return、throw退出；解构操作未消费所有值
- 可选的return()方法用于指定迭代器提前关闭的逻辑
  - 返回一个对象（done为false也可以，没有影响，没有done也能行，为了符合要求最好是done:true）
- 有些不可关闭的，则跳出之后还能继续从上次离开的位置继续迭代
  - 仅仅给return方法并不能让它变成可关闭的

# 生成器
- 拥有在一个函数块内暂停和恢复代码执行的能力
- 其形式是一个函数，在函数名称前加*表示为生成器
- 调用生成器函数，返回一个生成器对象，生成器对象也实现了迭代器接口
  - 生成器函数只会在初次调用next才开始执行
- 通过yield进行中断

### 星号增强
- 让其迭代一个可迭代对象，实际上是将一个可迭代镀锡序列化为一连串可以单独产出的值，与将yield放入循环没差别

### 提前终止生成器
- 一个可选的return方法和throw方法
- return会强制进入关闭状态，提供给return的值就是终止迭代器的值
- throw方法会在暂停的时候将提供的错误注入到生成器对象中，如果错误未处理则关闭
  - 错误可以在内部或外部捕获